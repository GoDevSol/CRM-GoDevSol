!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{nViT:function(o,r,n){"use strict";n.r(r),n.d(r,"TecnicoEquipoModule",function(){return Z});var c=n("s7LF"),i=n("FE24"),b=n("aHM3"),a=n("SVse"),l=n("iInd"),d=n("mrSG"),u=n("yZrb"),s=n("8Y7J"),p=n("LqlI"),h=n("ZMeN"),f=["reiniciar"],R=["error"],m=["errorCompany"],S=["errorHorometro"];function v(e,t){if(1&e&&(s.Sb(0,"tr"),s.Sb(1,"td",30),s.wc(2),s.Rb(),s.Sb(3,"td",30),s.wc(4),s.Rb(),s.Sb(5,"td"),s.Sb(6,"div"),s.wc(7),s.Rb(),s.Rb(),s.Sb(8,"td",34),s.wc(9),s.Rb(),s.Sb(10,"td",34),s.wc(11),s.Rb(),s.Sb(12,"td"),s.wc(13),s.Rb(),s.Sb(14,"td",30),s.wc(15),s.Rb(),s.Rb()),2&e){var o=t.$implicit,r=t.index;s.Ab(2),s.yc(" ",r+1," "),s.Ab(2),s.yc(" ",o.equipment," "),s.Ab(3),s.xc(o.cliente.toUpperCase()),s.Ab(2),s.yc(" ",o.categoria.toUpperCase()," "),s.Ab(2),s.yc(" ",o.equipo.toUpperCase()," "),s.Ab(2),s.yc(" ",o.ultimoHorometro.toUpperCase()," "),s.Ab(2),s.yc(" ",o.fechaUltimoHorometro.toUpperCase()," ")}}function w(e,t){if(1&e){var o=s.Tb();s.Sb(0,"div",19),s.Sb(1,"h5",20),s.wc(2," Reiniciar Horometro"),s.Rb(),s.Sb(3,"button",21),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.Sb(4,"span",22),s.wc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",23),s.Sb(7,"h6"),s.wc(8,"Ingrese el horometro."),s.Rb(),s.Sb(9,"div",24),s.Sb(10,"input",25),s.Zb("ngModelChange",function(e){return s.pc(o),s.cc().horo=e}),s.Rb(),s.Rb(),s.Sb(11,"h6"),s.wc(12,"Ingrese la fecha del servicio."),s.Rb(),s.Sb(13,"div",24),s.Sb(14,"input",26),s.Zb("ngModelChange",function(e){return s.pc(o),s.cc().fecha=e}),s.Rb(),s.Rb(),s.Sb(15,"div",27),s.Sb(16,"table",28),s.Sb(17,"thead",29),s.Sb(18,"tr"),s.Sb(19,"th",30),s.wc(20,"#"),s.Rb(),s.Sb(21,"th"),s.wc(22,"Codigo"),s.Rb(),s.Sb(23,"th"),s.wc(24,"Cliente"),s.Rb(),s.Sb(25,"th"),s.wc(26,"Categoria"),s.Rb(),s.Sb(27,"th"),s.wc(28,"Equipo"),s.Rb(),s.Sb(29,"th"),s.wc(30,"Ultimo Horometro"),s.Rb(),s.Sb(31,"th"),s.wc(32,"Fecha Ultimo Horometro"),s.Rb(),s.Rb(),s.Rb(),s.Sb(33,"tbody"),s.uc(34,v,16,7,"tr",31),s.Rb(),s.Rb(),s.Rb(),s.Nb(35,"br"),s.Sb(36,"button",32),s.Zb("click",function(){return s.pc(o),s.cc().reiniciarHorometro()}),s.wc(37,"Reiniciar"),s.Rb(),s.Sb(38,"button",33),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.wc(39,"Cancelar"),s.Rb(),s.Rb()}if(2&e){var r=s.cc();s.Ab(10),s.hc("ngModel",r.horo),s.Ab(4),s.hc("ngModel",r.fecha),s.Ab(20),s.hc("ngForOf",r.records)}}function g(e,t){if(1&e){var o=s.Tb();s.Sb(0,"div",35),s.Sb(1,"h4",20),s.wc(2," !Ha ocurrido un error!"),s.Rb(),s.Sb(3,"button",21),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.Sb(4,"span",22),s.wc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",23),s.Sb(7,"h6"),s.wc(8,"El numero de equipo ingresado no pertenece a la compa\xf1ia seleccionada o no existe en la base de datos."),s.Rb(),s.Sb(9,"div",24),s.Nb(10,"br"),s.Sb(11,"button",36),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.wc(12,"Aceptar"),s.Rb(),s.Rb(),s.Rb()}}function y(e,t){if(1&e){var o=s.Tb();s.Sb(0,"div",35),s.Sb(1,"h4",20),s.wc(2," !Ha ocurrido un error!"),s.Rb(),s.Sb(3,"button",21),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.Sb(4,"span",22),s.wc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",23),s.Sb(7,"h6"),s.wc(8,"Debe de seleccionar una compa\xf1ia."),s.Rb(),s.Sb(9,"div",24),s.Nb(10,"br"),s.Sb(11,"button",36),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.wc(12,"Aceptar"),s.Rb(),s.Rb(),s.Rb()}}function k(e,t){if(1&e){var o=s.Tb();s.Sb(0,"div",35),s.Sb(1,"h4",20),s.wc(2," !Ha ocurrido un error!"),s.Rb(),s.Sb(3,"button",21),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.Sb(4,"span",22),s.wc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",23),s.Sb(7,"h6"),s.wc(8,"ERROR: No se ha podido reiniciar el horometro. Porfavor ingrese todos los datos."),s.Rb(),s.Sb(9,"div",24),s.Nb(10,"br"),s.Sb(11,"button",36),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.wc(12,"Aceptar"),s.Rb(),s.Rb(),s.Rb()}}var C,M,x,A=[{path:"",component:(C=function(){function o(t,r){e(this,o),this.api=t,this.modalService=r,this.noResult=!1,this.states=[],this.records=[]}var r,n,c;return r=o,(n=[{key:"ngOnInit",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.getCompany();case 2:return this.states=e.sent,e.next=5,this.api.getAllCompany();case 5:this.records=e.sent;case 6:case"end":return e.stop()}},e,this)}))}},{key:"openModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"modal-lg"})}},{key:"validarDato",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.selectedOption){e.next=7;break}return e.next=3,this.api.getCompanyAndEquipment({soldToParty:this.selectedOption.soldToParty,equipment:this.numeroEquipo});case 3:null!=(t=e.sent)?(this.records=t,this.IdSolicitud=t[0].equipment,this.openModal(this.reiniciar)):this.openModal(this.error),e.next=8;break;case 7:this.openModal(this.errorCompany);case 8:case"end":return e.stop()}},e,this)}))}},{key:"decline",value:function(){this.modalRef.hide()}},{key:"onSelect",value:function(e){this.selectedOption=e.item}},{key:"reiniciarHorometro",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.createProductHistorial({id:this.IdSolicitud,horo:this.horo,fecha:this.fecha});case 2:if(!e.sent.success){e.next=6;break}this.decline(),window.location.reload(),e.next=7;break;case 6:this.decline(),this.openModal(this.errorHorometro);case 7:case"end":return e.stop()}},e,this)}))}}])&&t(r.prototype,n),c&&t(r,c),o}(),C.\u0275fac=function(e){return new(e||C)(s.Mb(u.a),s.Mb(p.a))},C.\u0275cmp=s.Gb({type:C,selectors:[["ng-component"]],viewQuery:function(e,t){var o;1&e&&(s.zc(f,1),s.zc(R,1),s.zc(m,1),s.zc(S,1)),2&e&&(s.mc(o=s.ac())&&(t.reiniciar=o.first),s.mc(o=s.ac())&&(t.error=o.first),s.mc(o=s.ac())&&(t.errorCompany=o.first),s.mc(o=s.ac())&&(t.errorHorometro=o.first))},decls:36,vars:3,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group","row"],["for","hf-email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["typeaheadOptionField","cliente",1,"form-control",3,"ngModel","typeahead","ngModelChange","typeaheadOnSelect"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-dot-circle-o"],["reiniciar",""],["error",""],["errorCompany",""],["role","document","style"," border-color:#f86c6b"],["errorHorometro",""],[1,"modal-header",2,"background-color","#ffc107"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group"],["name","horo","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","date",1,"form-control",3,"ngModel","ngModelChange"],[2,"overflow-x","scroll","overflow-y","scroll"],[1,"table","table-striped","table-bordered","table-sm","row-border","hover"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"text-left"],[1,"modal-header",2,"background-color","#f86c6b"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"div",4),s.wc(5," Equipos Kaeser "),s.Rb(),s.Sb(6,"div",5),s.Nb(7,"br"),s.Sb(8,"div",2),s.Sb(9,"div",3),s.Sb(10,"div",4),s.Sb(11,"strong"),s.wc(12,"Ingrese los datos del equipo "),s.Rb(),s.Rb(),s.Sb(13,"div",5),s.Sb(14,"div",6),s.Sb(15,"label",7),s.wc(16,"Compa\xf1ia"),s.Rb(),s.Sb(17,"div",8),s.Sb(18,"input",9),s.Zb("ngModelChange",function(e){return t.selectedValue=e})("typeaheadOnSelect",function(e){return t.onSelect(e)}),s.Rb(),s.Rb(),s.Rb(),s.Sb(19,"div",6),s.Sb(20,"label",7),s.wc(21,"Numero de equipo"),s.Rb(),s.Sb(22,"div",8),s.Sb(23,"input",10),s.Zb("ngModelChange",function(e){return t.numeroEquipo=e}),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"div",11),s.Sb(25,"button",12),s.Zb("click",function(){return t.validarDato()}),s.Nb(26,"i",13),s.wc(27," Reiniciar Horometro"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.uc(28,w,40,3,"ng-template",null,14,s.vc),s.uc(30,g,13,0,"ng-template",null,15,s.vc),s.uc(32,y,13,0,"ng-template",null,16,s.vc),s.uc(34,k,13,0,"ng-template",17,18,s.vc)),2&e&&(s.Ab(18),s.hc("ngModel",t.selectedValue)("typeahead",t.states),s.Ab(5),s.hc("ngModel",t.numeroEquipo))},directives:[c.a,c.e,c.h,h.a,c.j,a.j],encapsulation:2}),C),data:{title:"adminUser"}}],H=((x=function t(){e(this,t)}).\u0275fac=function(e){return new(e||x)},x.\u0275mod=s.Kb({type:x}),x.\u0275inj=s.Jb({imports:[[l.g.forChild(A)],l.g]}),x),Z=((M=function t(){e(this,t)}).\u0275fac=function(e){return new(e||M)},M.\u0275mod=s.Kb({type:M}),M.\u0275inj=s.Jb({imports:[[c.b,a.c,p.b,H,i.c,p.b.forRoot(),h.b.forRoot(),b.a.forRoot()]]}),M)}}])}();