(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{D0de:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminEncuestaModule",function(){return T});var c=n("s7LF"),b=n("FE24"),i=n("aHM3"),o=n("SVse"),s=n("LqlI"),r=n("oTcB"),a=n("iInd"),u=n("mrSG"),d=n("yZrb"),l=n("XNiG"),p=n("8Y7J");function g(t,e){1&t&&(p.Sb(0,"button",28),p.wc(1,"INACTIVO"),p.Rb())}function h(t,e){1&t&&(p.Sb(0,"button",29),p.wc(1,"ACTIVO"),p.Rb())}function S(t,e){1&t&&(p.Sb(0,"p",30),p.wc(1,"TRABAJADORES"),p.Rb())}function R(t,e){1&t&&(p.Sb(0,"p",30),p.wc(1,"CLIENTE"),p.Rb())}function f(t,e){if(1&t){const t=p.Tb();p.Sb(0,"div",31),p.Sb(1,"a",32),p.Zb("click",function(){p.pc(t);const e=p.cc().$implicit,n=p.cc(),c=p.nc(42);return n.openModal(c,e)}),p.wc(2,"Administrar Preguntas"),p.Rb(),p.Sb(3,"a",32),p.Zb("click",function(){p.pc(t);const e=p.cc().$implicit,n=p.cc(),c=p.nc(40);return n.openModal(c,e)}),p.wc(4,"Ver Resultados"),p.Rb(),p.Sb(5,"a",32),p.Zb("click",function(){p.pc(t);const e=p.cc().$implicit,n=p.cc(),c=p.nc(40);return n.openModal(c,e)}),p.wc(6,"Inactivar"),p.Rb(),p.Rb()}}function w(t,e){if(1&t&&(p.Sb(0,"tr"),p.Sb(1,"td",14),p.wc(2),p.Rb(),p.Sb(3,"td"),p.Sb(4,"div"),p.wc(5),p.Rb(),p.Rb(),p.Sb(6,"td"),p.uc(7,g,2,0,"button",20),p.uc(8,h,2,0,"button",21),p.Rb(),p.Sb(9,"td",22),p.wc(10),p.Rb(),p.Sb(11,"td",14),p.uc(12,S,2,0,"p",23),p.uc(13,R,2,0,"p",23),p.Rb(),p.Sb(14,"td",14),p.Sb(15,"div",24),p.Sb(16,"button",25),p.Nb(17,"i",26),p.Rb(),p.uc(18,f,7,0,"div",27),p.Rb(),p.Rb(),p.Rb()),2&t){const t=e.$implicit,n=e.index;p.Ab(2),p.yc(" ",n+1," "),p.Ab(3),p.xc(t.nombre.toUpperCase()),p.Ab(2),p.hc("ngIf",0==t.estado),p.Ab(1),p.hc("ngIf",1==t.estado),p.Ab(2),p.yc(" ",t.creadorUsuario.toUpperCase()," "),p.Ab(2),p.hc("ngIf",1==t.objetivo),p.Ab(1),p.hc("ngIf",2==t.objetivo)}}function m(t,e){if(1&t){const t=p.Tb();p.Sb(0,"div",33),p.Sb(1,"h5",34),p.wc(2," Crear encuesta"),p.Rb(),p.Sb(3,"button",35),p.Zb("click",function(){return p.pc(t),p.cc().decline()}),p.Sb(4,"span",36),p.wc(5,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",37),p.Sb(7,"h6"),p.wc(8,"Ingrese los datos de la encuesta."),p.Rb(),p.Sb(9,"div",38),p.Sb(10,"label",39),p.wc(11,"Nombre de la encuesta"),p.Rb(),p.Sb(12,"input",40),p.Zb("ngModelChange",function(e){return p.pc(t),p.cc().nombre=e}),p.Rb(),p.Rb(),p.Sb(13,"div",38),p.Sb(14,"label",39),p.wc(15,"Target market de la encuesta"),p.Rb(),p.Sb(16,"select",41),p.Zb("ngModelChange",function(e){return p.pc(t),p.cc().tipo=e}),p.Sb(17,"option",42),p.wc(18,"TRABAJADORES"),p.Rb(),p.Sb(19,"option",43),p.wc(20,"CLIENTES"),p.Rb(),p.Rb(),p.Rb(),p.Sb(21,"div",44),p.Nb(22,"br"),p.Sb(23,"button",10),p.Zb("click",function(){return p.pc(t),p.cc().createUser()}),p.wc(24,"Crear"),p.Rb(),p.Sb(25,"button",45),p.Zb("click",function(){return p.pc(t),p.cc().decline()}),p.wc(26,"Cancelar"),p.Rb(),p.Rb(),p.Rb()}if(2&t){const t=p.cc();p.Ab(12),p.hc("ngModel",t.nombre),p.Ab(4),p.hc("ngModel",t.tipo)}}function v(t,e){if(1&t){const t=p.Tb();p.Sb(0,"div",37),p.Sb(1,"p"),p.wc(2,"\xbfEstas seguro querer eliminar el usuario?"),p.Rb(),p.Sb(3,"button",45),p.Zb("click",function(){return p.pc(t),p.cc().rechazarUser()}),p.wc(4,"Si"),p.Rb(),p.Sb(5,"button",46),p.Zb("click",function(){return p.pc(t),p.cc().decline()}),p.wc(6,"Cancelar"),p.Rb(),p.Rb()}}function A(t,e){if(1&t){const t=p.Tb();p.Sb(0,"option",54),p.Zb("click",function(){p.pc(t);const n=e.index;return p.cc(2).eventGetChangeQ(n)}),p.wc(1),p.Rb()}if(2&t){const t=e.index;p.hc("ngValue",e.$implicit),p.Ab(1),p.yc(" ","Preguntas #"+(t+1)," ")}}function k(t,e){if(1&t){const t=p.Tb();p.Sb(0,"option",54),p.Zb("click",function(){p.pc(t);const n=e.index;return p.cc(4).eventGetChange(n)}),p.wc(1),p.Rb()}if(2&t){const t=e.$implicit,n=p.cc(4);p.hc("ngValue",n.encuesta),p.Ab(1),p.yc(" ",t.valor," ")}}function I(t,e){if(1&t){const t=p.Tb();p.Sb(0,"div",1),p.Sb(1,"div",58),p.Sb(2,"select",63),p.uc(3,k,2,2,"option",50),p.Rb(),p.Rb(),p.Sb(4,"div",58),p.Sb(5,"label",39),p.wc(6,"Respuesta"),p.Rb(),p.Sb(7,"input",64),p.Zb("ngModelChange",function(e){return p.pc(t),p.cc(3).answer=e}),p.Rb(),p.Nb(8,"br"),p.Sb(9,"button",10),p.Zb("click",function(){return p.pc(t),p.cc(3).addAnswer()}),p.wc(10,"Agregar"),p.Rb(),p.Sb(11,"button",46),p.Zb("click",function(){return p.pc(t),p.cc(3).deleteAnswer()}),p.wc(12,"Eliminar"),p.Rb(),p.Rb(),p.Rb()}if(2&t){const t=p.cc(3);p.Ab(3),p.hc("ngForOf",t.respuesta.respuestas),p.Ab(4),p.hc("ngModel",t.answer)}}function M(t,e){if(1&t){const t=p.Tb();p.Sb(0,"div",55),p.Sb(1,"div",56),p.Sb(2,"div",38),p.Sb(3,"label",39),p.wc(4,"Pregunta"),p.Rb(),p.Sb(5,"input",57),p.Zb("ngModelChange",function(e){return p.pc(t),p.cc(2).respuesta.pregunta=e}),p.Rb(),p.Rb(),p.Rb(),p.Nb(6,"br"),p.Sb(7,"div",58),p.Sb(8,"input",59),p.Zb("ngModelChange",function(e){return p.pc(t),p.cc(2).respuesta.tipo=e}),p.Rb(),p.wc(9," Pregunta Abierta "),p.Rb(),p.Sb(10,"div",58),p.Sb(11,"input",59),p.Zb("ngModelChange",function(e){return p.pc(t),p.cc(2).respuesta.tipo=e}),p.Rb(),p.wc(12," Pregunta Cerrada "),p.Rb(),p.Sb(13,"div",60),p.uc(14,I,13,2,"div",61),p.Rb(),p.Sb(15,"div",60),p.Sb(16,"button",62),p.Zb("click",function(){return p.pc(t),p.cc(2).saveAnswer()}),p.wc(17,"Guardar Cambio"),p.Rb(),p.Rb(),p.Rb()}if(2&t){const t=p.cc(2);p.Ab(5),p.hc("ngModel",t.respuesta.pregunta),p.Ab(3),p.hc("ngModel",t.respuesta.tipo)("value",1),p.Ab(3),p.hc("ngModel",t.respuesta.tipo)("value",2),p.Ab(3),p.hc("ngIf",2==t.respuesta.tipo)}}function x(t,e){if(1&t){const t=p.Tb();p.Sb(0,"div",33),p.Sb(1,"h5",34),p.wc(2," Administrar Preguntas de encuesta"),p.Rb(),p.Sb(3,"button",35),p.Zb("click",function(){return p.pc(t),p.cc().decline()}),p.Sb(4,"span",36),p.wc(5,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",37),p.Sb(7,"div",38),p.Sb(8,"div",47),p.Sb(9,"div",48),p.Sb(10,"select",49),p.uc(11,A,2,2,"option",50),p.Rb(),p.Rb(),p.Sb(12,"div",51),p.Sb(13,"button",10),p.Zb("click",function(){return p.pc(t),p.cc().addQuestion()}),p.wc(14,"Agregar Pregunta"),p.Rb(),p.Nb(15,"br"),p.Nb(16,"br"),p.Sb(17,"button",46),p.Zb("click",function(){return p.pc(t),p.cc().deleteQuestion()}),p.wc(18,"Eliminar Pregunta"),p.Rb(),p.Rb(),p.Nb(19,"hr"),p.uc(20,M,18,6,"div",52),p.Rb(),p.Nb(21,"hr"),p.Sb(22,"button",53),p.Zb("click",function(){return p.pc(t),p.cc().saveAll()}),p.wc(23,"Guardar Todo"),p.Rb(),p.Rb(),p.Rb()}if(2&t){const t=p.cc();p.Ab(11),p.hc("ngForOf",t.encuestas),p.Ab(9),p.hc("ngIf",t.IndexQuestion>=0)}}const C=[{path:"",component:(()=>{class t{constructor(t,e){this.api=t,this.modalService=e,this.noResult=!1,this.states=[],this.encuestas=[],this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.idUser="",this.nombre="",this.answer="",this.item={id:"",preguntas:""},this.IndexAnswer=-1,this.IndexQuestion=-1,this.tipo=0,this.dtOptions={},this.dtTrigger=new l.a,this.records=[]}ngOnInit(){return Object(u.a)(this,void 0,void 0,function*(){this.records=yield this.api.getEncuestaHeader(),this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.dtTrigger.next()})}openModal(t,e){this.modalRef=this.modalService.show(t,{class:"modal-lg"}),this.encuestas=JSON.parse(e.preguntas.replaceAll("&quot;",'"')),this.item=e,this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.IndexAnswer=-1,this.IndexQuestion=-1}addQuestion(){this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.encuestas.push(this.respuesta)}deleteQuestion(){this.encuestas.splice(this.IndexQuestion,1)}addAnswer(){this.respuesta.respuestas.push({valor:this.answer})}deleteAnswer(){this.respuesta.respuestas.splice(this.IndexAnswer,1)}saveAnswer(){this.encuestas[this.IndexQuestion]=JSON.parse(JSON.stringify(this.respuesta)),this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.IndexQuestion=-1}saveAll(){return Object(u.a)(this,void 0,void 0,function*(){yield this.api.updateEncuesta({id:this.item.id,preguntas:JSON.stringify(this.encuestas)}),this.dismiss()})}eventGetChange(t){this.IndexAnswer=t}eventGetChangeQ(t){this.respuesta=JSON.parse(JSON.stringify(this.encuestas[t])),this.IndexQuestion=t}dismiss(){this.decline(),window.location.reload()}decline(){this.modalRef.hide()}createUser(){return Object(u.a)(this,void 0,void 0,function*(){let t=localStorage.getItem("JWT");yield this.api.createEncuesta({nombre:this.nombre,objetivo:this.tipo,jwt:t}),this.dismiss()})}}return t.\u0275fac=function(e){return new(e||t)(p.Mb(d.a),p.Mb(s.a))},t.\u0275cmp=p.Gb({type:t,selectors:[["ng-component"]],decls:43,vars:4,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-6","col-lg-4"],[1,"card","text-white","bg-warning"],["dropdown","",1,"btn-group","float-right"],[1,"text-value"],["type","button",1,"btn","btn-success",3,"click"],[2,"overflow-x","scroll","overflow-y","scroll"],["datatable","",1,"table","table-striped","table-bordered","table-sm","row-border","hover",3,"dtTrigger","dtOptions"],[1,"thead-light"],[1,"text-center"],[1,"icon-people"],[4,"ngFor","ngForOf"],["crear",""],["rechazar",""],["preguntas",""],["type","button","class","btn btn-block btn-danger",4,"ngIf"],["type","button","class","btn btn-block btn-success",4,"ngIf"],[1,"text-left"],["class","",4,"ngIf"],["dropdown","",1,"btn-group","float-center"],["type","button","dropdownToggle","",1,"btn","dropdown-toggle","p-0"],[1,"icon-settings"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],["type","button",1,"btn","btn-block","btn-danger"],["type","button",1,"btn","btn-block","btn-success"],[1,""],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"modal-header",2,"background-color","#4dbd74"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group","text-left"],["for",""],["name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["name","tipo",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"form-group"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row",2,"padding","10px"],[1,"col-sm-9"],["multiple","","size","10","name","tipo",1,"form-control"],[3,"ngValue","click",4,"ngFor","ngForOf"],[1,"col-sm-3"],["class","row text-center","style","padding: 20px;text-align-last: center;    width: 100%;",4,"ngIf"],["type","button",1,"btn","btn-block","btn-success",3,"click"],[3,"ngValue","click"],[1,"row","text-center",2,"padding","20px","text-align-last","center","width","100%"],[1,"col-sm-12"],["name","pregunta",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-6"],["type","radio","name","head_radio",3,"ngModel","value","ngModelChange"],[1,"col-sm-12",2,"margin-top","20px"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-block","btn-info",3,"click"],["multiple","","size","4","name","tipo",1,"form-control"],["name","answer",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=p.Tb();p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"div",3),p.Sb(4,"div",4),p.wc(5," Configuracion de Encuesta "),p.Rb(),p.Sb(6,"div",5),p.Sb(7,"div",1),p.Sb(8,"div",6),p.Sb(9,"div",7),p.Sb(10,"div",5),p.Nb(11,"div",8),p.Sb(12,"div",9),p.wc(13),p.Rb(),p.Sb(14,"div"),p.wc(15,"Total de Encuestas"),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(16,"div",4),p.Sb(17,"button",10),p.Zb("click",function(){p.pc(t);const n=p.nc(38);return e.openModal(n,"")}),p.wc(18,"CREAR ENCUESTA"),p.Rb(),p.Rb(),p.Sb(19,"div",11),p.Sb(20,"table",12),p.Sb(21,"thead",13),p.Sb(22,"tr"),p.Sb(23,"th",14),p.Nb(24,"i",15),p.Rb(),p.Sb(25,"th"),p.wc(26,"Nombres"),p.Rb(),p.Sb(27,"th"),p.wc(28,"Estado"),p.Rb(),p.Sb(29,"th"),p.wc(30,"Creador de la Encuesta"),p.Rb(),p.Sb(31,"th",14),p.wc(32,"Target Market"),p.Rb(),p.Sb(33,"th"),p.wc(34,"Accion"),p.Rb(),p.Rb(),p.Rb(),p.Sb(35,"tbody"),p.uc(36,w,19,7,"tr",16),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.uc(37,m,27,2,"ng-template",null,17,p.vc),p.uc(39,v,7,0,"ng-template",null,18,p.vc),p.uc(41,x,24,2,"ng-template",null,19,p.vc)}2&t&&(p.Ab(13),p.xc(e.records.length),p.Ab(7),p.hc("dtTrigger",e.dtTrigger)("dtOptions",e.dtOptions),p.Ab(16),p.hc("ngForOf",e.records))},directives:[b.a,r.a,o.j,o.k,b.d,b.b,c.a,c.e,c.h,c.n,c.i,c.p,c.k],encapsulation:2}),t})(),data:{title:"adminUser"}}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({imports:[[a.g.forChild(C)],a.g]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({imports:[[c.b,r.b,y,b.c,o.c,i.a.forRoot(),s.b.forRoot()]]}),t})()}}]);