!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{qnqs:function(r,o,i){"use strict";i.r(o),i.d(o,"TecnicoQRModule",function(){return x});var n=i("s7LF"),c=i("FE24"),b=i("aHM3"),a=i("SVse"),d=i("iInd"),s=i("mrSG"),l=i("yZrb"),u=i("8Y7J"),h=i("LqlI"),f=["reiniciar"],p=["error"];function R(e,t){if(1&e&&(u.Sb(0,"tr"),u.Sb(1,"td",13),u.wc(2),u.Rb(),u.Sb(3,"td",13),u.wc(4),u.Rb(),u.Sb(5,"td"),u.Sb(6,"div"),u.wc(7),u.Rb(),u.Rb(),u.Sb(8,"td",24),u.wc(9),u.Rb(),u.Sb(10,"td",24),u.wc(11),u.Rb(),u.Sb(12,"td"),u.wc(13),u.Rb(),u.Sb(14,"td",13),u.wc(15),u.Rb(),u.Rb()),2&e){var r=t.$implicit,o=t.index;u.Ab(2),u.yc(" ",o+1," "),u.Ab(2),u.yc(" ",r.equipment," "),u.Ab(3),u.xc(r.cliente.toUpperCase()),u.Ab(2),u.yc(" ",r.categoria.toUpperCase()," "),u.Ab(2),u.yc(" ",r.equipo.toUpperCase()," "),u.Ab(2),u.yc(" ",r.ultimoHorometro.toUpperCase()," "),u.Ab(2),u.yc(" ",r.fechaUltimoHorometro.toUpperCase()," ")}}function v(e,t){if(1&e){var r=u.Tb();u.Sb(0,"div",25),u.Sb(1,"h4",26),u.wc(2," No se ah podido reiniciar el Horometro."),u.Rb(),u.Sb(3,"button",27),u.Zb("click",function(){return u.pc(r),u.cc().decline()}),u.Sb(4,"span",28),u.wc(5,"\xd7"),u.Rb(),u.Rb(),u.Rb(),u.Sb(6,"div",29),u.Sb(7,"h6"),u.wc(8,"Ingrese todos los datos para poder reiniciar el horometro."),u.Rb(),u.Sb(9,"div",30),u.Nb(10,"br"),u.Sb(11,"button",31),u.Zb("click",function(){return u.pc(r),u.cc().decline()}),u.wc(12,"Aceptar"),u.Rb(),u.Rb(),u.Rb()}}var m,S,w,g=[{path:"",component:(m=function(){function r(t,o,i,n){e(this,r),this.api=t,this.modalService=o,this.router=i,this.rutaActiva=n,this.horo=0,this.records=[]}var o,i,n;return o=r,(i=[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("JWT");case 2:if(!e.sent){e.next=8;break}return this.url=this.rutaActiva.snapshot.params.qrCode,e.next=6,this.api.validateQRCode({QRcode:this.url});case 6:(t=e.sent)?(this.records=t,this.IdSolicitud=t[0].equipment):this.router.navigateByUrl("/*");case 8:case"end":return e.stop()}},e,this)}))}},{key:"openModal",value:function(e){this.modalRef=this.modalService.show(e,{class:"modal-lg"})}},{key:"decline",value:function(){this.modalRef.hide()}},{key:"validarDato",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.horo>0&&null!=this.fecha?this.reiniciarHorometro():this.openModal(this.error);case 1:case"end":return e.stop()}},e,this)}))}},{key:"reiniciarHorometro",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.createProductHistorial({id:this.IdSolicitud,horo:this.horo,fecha:this.fecha});case 2:if(!e.sent.success){e.next=6;break}this.decline(),window.location.reload(),e.next=7;break;case 6:this.decline(),this.openModal(this.error);case 7:case"end":return e.stop()}},e,this)}))}}])&&t(o.prototype,i),n&&t(o,n),r}(),m.\u0275fac=function(e){return new(e||m)(u.Mb(l.a),u.Mb(h.a),u.Mb(d.c),u.Mb(d.a))},m.\u0275cmp=u.Gb({type:m,selectors:[["ng-component"]],viewQuery:function(e,t){var r;1&e&&(u.zc(f,1),u.zc(p,1)),2&e&&(u.mc(r=u.ac())&&(t.reiniciar=r.first),u.mc(r=u.ac())&&(t.error=r.first))},decls:61,vars:4,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-6","col-lg-4"],[1,"card","text-white","bg-warning"],["dropdown","",1,"btn-group","float-right"],[1,"text-value"],[2,"overflow-x","scroll","overflow-y","scroll"],[1,"table","table-striped","table-bordered","table-sm","row-border","hover"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"form-group","row"],["for","hf-email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","horo","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-dot-circle-o"],["error",""],[1,"text-left"],[1,"modal-header",2,"background-color","#ffc107"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"div",3),u.Sb(4,"div",4),u.wc(5," Equipos Kaeser "),u.Rb(),u.Sb(6,"div",5),u.Sb(7,"div",1),u.Sb(8,"div",6),u.Sb(9,"div",7),u.Sb(10,"div",5),u.Nb(11,"div",8),u.Sb(12,"div",9),u.wc(13),u.Rb(),u.Sb(14,"div"),u.wc(15,"Equipos Registrados"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Nb(16,"br"),u.Sb(17,"div",10),u.Sb(18,"table",11),u.Sb(19,"thead",12),u.Sb(20,"tr"),u.Sb(21,"th",13),u.wc(22,"#"),u.Rb(),u.Sb(23,"th"),u.wc(24,"Codigo"),u.Rb(),u.Sb(25,"th"),u.wc(26,"Cliente"),u.Rb(),u.Sb(27,"th"),u.wc(28,"Categoria"),u.Rb(),u.Sb(29,"th"),u.wc(30,"Equipo"),u.Rb(),u.Sb(31,"th"),u.wc(32,"Ultimo Horometro"),u.Rb(),u.Sb(33,"th"),u.wc(34,"Fecha Ultimo Horometro"),u.Rb(),u.Rb(),u.Rb(),u.Sb(35,"tbody"),u.uc(36,R,16,7,"tr",14),u.Rb(),u.Rb(),u.Rb(),u.Nb(37,"br"),u.Nb(38,"br"),u.Sb(39,"div",2),u.Sb(40,"div",3),u.Sb(41,"div",4),u.Sb(42,"strong"),u.wc(43,"Reiniciar Equipo "),u.Rb(),u.Rb(),u.Sb(44,"div",5),u.Sb(45,"div",15),u.Sb(46,"label",16),u.wc(47,"Ingrese el horometro."),u.Rb(),u.Sb(48,"div",17),u.Sb(49,"input",18),u.Zb("ngModelChange",function(e){return t.horo=e}),u.Rb(),u.Rb(),u.Rb(),u.Sb(50,"div",15),u.Sb(51,"label",16),u.wc(52,"Ingrese la fecha del servicio"),u.Rb(),u.Sb(53,"div",17),u.Sb(54,"input",19),u.Zb("ngModelChange",function(e){return t.fecha=e}),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(55,"div",20),u.Sb(56,"button",21),u.Zb("click",function(){return t.validarDato()}),u.Nb(57,"i",22),u.wc(58," Reiniciar Horometro"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.uc(59,v,13,0,"ng-template",null,23,u.vc)),2&e&&(u.Ab(13),u.xc(t.records.length),u.Ab(23),u.hc("ngForOf",t.records),u.Ab(13),u.hc("ngModel",t.horo),u.Ab(5),u.hc("ngModel",t.fecha))},directives:[c.a,a.j,n.j,n.a,n.e,n.h],encapsulation:2}),m),data:{title:"adminUser"}}],y=((S=function t(){e(this,t)}).\u0275fac=function(e){return new(e||S)},S.\u0275mod=u.Kb({type:S}),S.\u0275inj=u.Jb({imports:[[d.g.forChild(g)],d.g]}),S),k=i("ZMeN"),x=((w=function t(){e(this,t)}).\u0275fac=function(e){return new(e||w)},w.\u0275mod=u.Kb({type:w}),w.\u0275inj=u.Jb({imports:[[n.b,a.c,h.b,y,c.c,h.b.forRoot(),k.b.forRoot(),b.a.forRoot()]]}),w)}}])}();