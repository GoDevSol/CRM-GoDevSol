!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{QfaS:function(o,r,c){"use strict";c.r(r),c.d(r,"ALoadDataModule",function(){return M});var n=c("s7LF"),i=c("FE24"),b=c("aHM3"),a=c("SVse"),d=c("iInd"),l=c("mrSG"),s=c("yZrb"),u=c("XNiG"),p=c("8Y7J"),h=c("LqlI"),R=c("oTcB"),m=["error"];function S(e,t){if(1&e){var o=p.Tb();p.Sb(0,"div",26),p.Sb(1,"a",27),p.Zb("click",function(){p.pc(o);var e=p.cc().$implicit,t=p.cc(),r=p.nc(47);return t.openModalData(r,e)}),p.wc(2,"Reiniciar Horometro"),p.Rb(),p.Rb()}}function f(e,t){if(1&e&&(p.Sb(0,"tr"),p.Sb(1,"td",14),p.wc(2),p.Rb(),p.Sb(3,"td",14),p.wc(4),p.Rb(),p.Sb(5,"td"),p.Sb(6,"div"),p.wc(7),p.Rb(),p.Rb(),p.Sb(8,"td",21),p.wc(9),p.Rb(),p.Sb(10,"td",21),p.wc(11),p.Rb(),p.Sb(12,"td",14),p.wc(13),p.Rb(),p.Sb(14,"td",14),p.wc(15),p.Rb(),p.Sb(16,"td"),p.wc(17),p.Rb(),p.Sb(18,"td",14),p.wc(19),p.Rb(),p.Sb(20,"td"),p.Sb(21,"div",22),p.Sb(22,"button",23),p.Nb(23,"i",24),p.Rb(),p.uc(24,S,3,0,"div",25),p.Rb(),p.Rb(),p.Rb()),2&e){var o=t.$implicit,r=t.index;p.Ab(2),p.yc(" ",r+1," "),p.Ab(2),p.yc(" ",o.equipment," "),p.Ab(3),p.xc(o.cliente.toUpperCase()),p.Ab(2),p.yc(" ",o.categoria.toUpperCase()," "),p.Ab(2),p.yc(" ",o.equipo.toUpperCase()," "),p.Ab(2),p.yc(" ",o.penultimoHorometro.toUpperCase()," "),p.Ab(2),p.yc(" ",o.fechaPenultimoHorometro.toUpperCase()," "),p.Ab(2),p.yc(" ",o.ultimoHorometro.toUpperCase()," "),p.Ab(2),p.yc(" ",o.fechaUltimoHorometro.toUpperCase()," ")}}function w(e,t){if(1&e&&(p.Sb(0,"tr"),p.Sb(1,"td",14),p.wc(2),p.Rb(),p.Sb(3,"td",14),p.wc(4),p.Rb(),p.Sb(5,"td"),p.Sb(6,"div"),p.wc(7),p.Rb(),p.Rb(),p.Sb(8,"td",21),p.wc(9),p.Rb(),p.Sb(10,"td",21),p.wc(11),p.Rb(),p.Sb(12,"td"),p.wc(13),p.Rb(),p.Sb(14,"td",14),p.wc(15),p.Rb(),p.Rb()),2&e){var o=t.$implicit,r=t.index;p.Ab(2),p.yc(" ",r+1," "),p.Ab(2),p.yc(" ",o.equipment," "),p.Ab(3),p.xc(o.cliente.toUpperCase()),p.Ab(2),p.yc(" ",o.categoria.toUpperCase()," "),p.Ab(2),p.yc(" ",o.equipo.toUpperCase()," "),p.Ab(2),p.yc(" ",o.ultimoHorometro.toUpperCase()," "),p.Ab(2),p.yc(" ",o.fechaUltimoHorometro.toUpperCase()," ")}}function g(e,t){if(1&e){var o=p.Tb();p.Sb(0,"div",28),p.Sb(1,"h4",29),p.wc(2," Reiniciar Horometro."),p.Rb(),p.Sb(3,"button",30),p.Zb("click",function(){return p.pc(o),p.cc().decline()}),p.Sb(4,"span",31),p.wc(5,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",32),p.Sb(7,"h6"),p.wc(8,"Ingrese el horometro."),p.Rb(),p.Sb(9,"div",33),p.Sb(10,"input",34),p.Zb("ngModelChange",function(e){return p.pc(o),p.cc().horo=e}),p.Rb(),p.Rb(),p.Sb(11,"h6"),p.wc(12,"Ingrese la fecha del servicio."),p.Rb(),p.Sb(13,"div",33),p.Sb(14,"input",35),p.Zb("ngModelChange",function(e){return p.pc(o),p.cc().fecha=e}),p.Rb(),p.Rb(),p.Sb(15,"div",11),p.Sb(16,"table",36),p.Sb(17,"thead",13),p.Sb(18,"tr"),p.Sb(19,"th",14),p.wc(20,"#"),p.Rb(),p.Sb(21,"th"),p.wc(22,"Codigo"),p.Rb(),p.Sb(23,"th"),p.wc(24,"Cliente"),p.Rb(),p.Sb(25,"th"),p.wc(26,"Categoria"),p.Rb(),p.Sb(27,"th"),p.wc(28,"Equipo"),p.Rb(),p.Sb(29,"th"),p.wc(30,"Ultimo Horometro"),p.Rb(),p.Sb(31,"th"),p.wc(32,"Fecha Ultimo Horometro"),p.Rb(),p.Rb(),p.Rb(),p.Sb(33,"tbody"),p.uc(34,w,16,7,"tr",15),p.Rb(),p.Rb(),p.Rb(),p.Nb(35,"br"),p.Sb(36,"button",37),p.Zb("click",function(){return p.pc(o),p.cc().reiniciarHorometro()}),p.wc(37,"Reiniciar"),p.Rb(),p.Sb(38,"button",38),p.Zb("click",function(){return p.pc(o),p.cc().decline()}),p.wc(39,"Cancelar"),p.Rb(),p.Rb()}if(2&e){var r=p.cc();p.Ab(10),p.hc("ngModel",r.horo),p.Ab(4),p.hc("ngModel",r.fecha),p.Ab(20),p.hc("ngForOf",r.record)}}function v(e,t){if(1&e){var o=p.Tb();p.Sb(0,"div",39),p.Sb(1,"h4",29),p.wc(2," Seleccione un archivo CSV desde su computador."),p.Rb(),p.Sb(3,"button",30),p.Zb("click",function(){return p.pc(o),p.cc().decline()}),p.Sb(4,"span",31),p.wc(5,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",32),p.Sb(7,"div",33),p.Sb(8,"h5"),p.wc(9,"Requerimientos del archivo."),p.Rb(),p.Sb(10,"div",40),p.Sb(11,"h6"),p.wc(12,"1. Los campos deben de ir separados por punto y coma (;)."),p.Rb(),p.Sb(13,"h6"),p.wc(14,"2. El orden de los campos es el siguiente ."),p.Rb(),p.Sb(15,"h7"),p.wc(16,"(Sold Party/ Nombre Cliente /Codigo Equipo / Categoria / Equipo / penultimo Horometro / fecha Penultimo / ultimo horometro / fecha ultimo horometro ) "),p.Rb(),p.Nb(17,"br"),p.Sb(18,"h6"),p.wc(19,'3.Las fechas pueden ir separadas por "/" o "-" y deben de ser en formato A\xf1o/Mes/Dia o Dia/Mes/A\xf1o'),p.Rb(),p.Nb(20,"br"),p.Sb(21,"h6"),p.wc(22,"Ejemplo."),p.Rb(),p.Sb(23,"h7"),p.wc(24,"10267;Ortitl\xe1n Limitada;2430637;Compresor de Tornillo;ASD 25;35861;2014-11-25;58773;2015/02/02"),p.Rb(),p.Rb(),p.Sb(25,"input",41),p.Zb("change",function(e){return p.pc(o),p.cc().onFileChange(e)}),p.Rb(),p.Nb(26,"br"),p.Sb(27,"button",10),p.Zb("click",function(){return p.pc(o),p.cc().LoadData()}),p.wc(28,"Aceptar"),p.Rb(),p.Sb(29,"button",38),p.Zb("click",function(){return p.pc(o),p.cc().decline()}),p.wc(30,"Cancelar"),p.Rb(),p.Rb(),p.Rb()}}function y(e,t){if(1&e){var o=p.Tb();p.Sb(0,"div",42),p.Sb(1,"h4",29),p.wc(2," !Ha ocurrido un error!"),p.Rb(),p.Sb(3,"button",30),p.Zb("click",function(){return p.pc(o),p.cc().decline()}),p.Sb(4,"span",31),p.wc(5,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",32),p.Sb(7,"h6"),p.wc(8,"ERROR: No se ha podido reiniciar el horometro. Porfavor ingrese todos los datos."),p.Rb(),p.Sb(9,"div",33),p.Nb(10,"br"),p.Sb(11,"button",43),p.Zb("click",function(){return p.pc(o),p.cc().decline()}),p.wc(12,"Aceptar"),p.Rb(),p.Rb(),p.Rb()}}var C,k,A,x=[{path:"",component:(C=function(){function o(t,r){e(this,o),this.api=t,this.modalService=r,this.noResult=!1,this.states=[],this.dtOptions={},this.dtTrigger=new u.a,this.records=[],this.record=new Array}var r,c,n;return r=o,(c=[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.getAllCompany();case 2:this.records=e.sent,this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.dtTrigger.next();case 5:case"end":return e.stop()}},e,this)}))}},{key:"openModalData",value:function(e,t){this.modalRef=this.modalService.show(e,{class:"modal-lg"}),this.record=[t],this.IdSolicitud=t.equipment}},{key:"openModal",value:function(e,t){this.modalRef=this.modalService.show(e,{class:"modal-lg"}),this.IdSolicitud=t}},{key:"decline",value:function(){this.modalRef.hide()}},{key:"LoadData",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",this.file),e.next=4,this.api.loadFile(t);case 4:this.decline(),window.location.reload();case 6:case"end":return e.stop()}},e,this)}))}},{key:"reiniciarHorometro",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.createProductHistorial({id:this.IdSolicitud,horo:this.horo,fecha:this.fecha});case 2:if(!e.sent.success){e.next=6;break}this.decline(),window.location.reload(),e.next=7;break;case 6:this.decline(),this.openModal(this.error,"");case 7:case"end":return e.stop()}},e,this)}))}},{key:"onFileChange",value:function(e){this.file=e.target.files[0]}}])&&t(r.prototype,c),n&&t(r,n),o}(),C.\u0275fac=function(e){return new(e||C)(p.Mb(s.a),p.Mb(h.a))},C.\u0275cmp=p.Gb({type:C,selectors:[["ng-component"]],viewQuery:function(e,t){var o;1&e&&p.zc(m,1),2&e&&p.mc(o=p.ac())&&(t.error=o.first)},decls:52,vars:4,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-6","col-lg-4"],[1,"card","text-white","bg-warning"],["dropdown","",1,"btn-group","float-right"],[1,"text-value"],["type","button",1,"btn","btn-success",3,"click"],[2,"overflow-x","scroll","overflow-y","scroll"],["datatable","",1,"table","table-striped","table-bordered","table-sm","row-border","hover",3,"dtTrigger","dtOptions"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],["reiniciar",""],["class","modal-dialog modal-success","role","document","style"," border-color:#4dbd74"],["aceptar",""],["role","document","style"," border-color:#f86c6b"],["error",""],[1,"text-left"],["dropdown","",1,"btn-group","float-center"],["type","button","dropdownToggle","",1,"btn","dropdown-toggle","p-0"],[1,"icon-settings"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"modal-header",2,"background-color","#ffc107"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group"],["name","horo","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-striped","table-bordered","table-sm","row-border","hover"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"modal-header",2,"background-color","#4dbd74"],[1,"text-left",2,"margin-top","20px","margin-bottom","20px"],["id","file","type","file","accept",".csv",1,"form-control",3,"change"],[1,"modal-header",2,"background-color","#f86c6b"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){if(1&e){var o=p.Tb();p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"div",3),p.Sb(4,"div",4),p.wc(5," Equipos Kaeser "),p.Rb(),p.Sb(6,"div",5),p.Sb(7,"div",1),p.Sb(8,"div",6),p.Sb(9,"div",7),p.Sb(10,"div",5),p.Nb(11,"div",8),p.Sb(12,"div",9),p.wc(13),p.Rb(),p.Sb(14,"div"),p.wc(15,"Equipos Registrados"),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Nb(16,"br"),p.Sb(17,"div",4),p.Sb(18,"button",10),p.Zb("click",function(){p.pc(o);var e=p.nc(49);return t.openModal(e,0)}),p.wc(19,"CARGAR ARCHIVO CSV"),p.Rb(),p.Rb(),p.Sb(20,"div",11),p.Sb(21,"table",12),p.Sb(22,"thead",13),p.Sb(23,"tr"),p.Sb(24,"th",14),p.wc(25,"#"),p.Rb(),p.Sb(26,"th"),p.wc(27,"Codigo"),p.Rb(),p.Sb(28,"th"),p.wc(29,"Cliente"),p.Rb(),p.Sb(30,"th"),p.wc(31,"Categoria"),p.Rb(),p.Sb(32,"th"),p.wc(33,"Equipo"),p.Rb(),p.Sb(34,"th"),p.wc(35,"Penultimo Horometro"),p.Rb(),p.Sb(36,"th"),p.wc(37,"Fecha Penultimo Horometro"),p.Rb(),p.Sb(38,"th"),p.wc(39,"Ultimo Horometro"),p.Rb(),p.Sb(40,"th"),p.wc(41,"Fecha Ultimo Horometro"),p.Rb(),p.Sb(42,"th"),p.wc(43,"Accion"),p.Rb(),p.Rb(),p.Rb(),p.Sb(44,"tbody"),p.uc(45,f,25,9,"tr",15),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.uc(46,g,40,3,"ng-template",null,16,p.vc),p.uc(48,v,31,0,"ng-template",17,18,p.vc),p.uc(50,y,13,0,"ng-template",19,20,p.vc)}2&e&&(p.Ab(13),p.xc(t.records.length),p.Ab(8),p.hc("dtTrigger",t.dtTrigger)("dtOptions",t.dtOptions),p.Ab(24),p.hc("ngForOf",t.records))},directives:[i.a,R.a,a.j,i.d,i.b,n.j,n.a,n.e,n.h],styles:[""]}),C),data:{title:"adminUser"}}],H=((A=function t(){e(this,t)}).\u0275fac=function(e){return new(e||A)},A.\u0275mod=p.Kb({type:A}),A.\u0275inj=p.Jb({imports:[[d.g.forChild(x)],d.g]}),A),M=((k=function t(){e(this,t)}).\u0275fac=function(e){return new(e||k)},k.\u0275mod=p.Kb({type:k}),k.\u0275inj=p.Jb({imports:[[n.b,a.c,h.b,R.b,H,i.c,h.b.forRoot(),b.a.forRoot()]]}),k)}}])}();