(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{nViT:function(e,o,t){"use strict";t.r(o),t.d(o,"TecnicoEquipoModule",function(){return M});var c=t("s7LF"),r=t("FE24"),n=t("aHM3"),i=t("SVse"),b=t("iInd"),a=t("mrSG"),d=t("yZrb"),l=t("8Y7J"),s=t("LqlI"),u=t("ZMeN");const p=["reiniciar"],h=["error"],R=["errorCompany"],S=["errorHorometro"];function m(e,o){if(1&e&&(l.Sb(0,"tr"),l.Sb(1,"td",30),l.wc(2),l.Rb(),l.Sb(3,"td",30),l.wc(4),l.Rb(),l.Sb(5,"td"),l.Sb(6,"div"),l.wc(7),l.Rb(),l.Rb(),l.Sb(8,"td",34),l.wc(9),l.Rb(),l.Sb(10,"td",34),l.wc(11),l.Rb(),l.Sb(12,"td"),l.wc(13),l.Rb(),l.Sb(14,"td",30),l.wc(15),l.Rb(),l.Rb()),2&e){const e=o.$implicit,t=o.index;l.Ab(2),l.yc(" ",t+1," "),l.Ab(2),l.yc(" ",e.equipment," "),l.Ab(3),l.xc(e.cliente.toUpperCase()),l.Ab(2),l.yc(" ",e.categoria.toUpperCase()," "),l.Ab(2),l.yc(" ",e.equipo.toUpperCase()," "),l.Ab(2),l.yc(" ",e.ultimoHorometro.toUpperCase()," "),l.Ab(2),l.yc(" ",e.fechaUltimoHorometro.toUpperCase()," ")}}function f(e,o){if(1&e){const e=l.Tb();l.Sb(0,"div",19),l.Sb(1,"h5",20),l.wc(2," Reiniciar Horometro"),l.Rb(),l.Sb(3,"button",21),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.Sb(4,"span",22),l.wc(5,"\xd7"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"div",23),l.Sb(7,"h6"),l.wc(8,"Ingrese el horometro."),l.Rb(),l.Sb(9,"div",24),l.Sb(10,"input",25),l.Zb("ngModelChange",function(o){return l.pc(e),l.cc().horo=o}),l.Rb(),l.Rb(),l.Sb(11,"h6"),l.wc(12,"Ingrese la fecha del servicio."),l.Rb(),l.Sb(13,"div",24),l.Sb(14,"input",26),l.Zb("ngModelChange",function(o){return l.pc(e),l.cc().fecha=o}),l.Rb(),l.Rb(),l.Sb(15,"div",27),l.Sb(16,"table",28),l.Sb(17,"thead",29),l.Sb(18,"tr"),l.Sb(19,"th",30),l.wc(20,"#"),l.Rb(),l.Sb(21,"th"),l.wc(22,"Codigo"),l.Rb(),l.Sb(23,"th"),l.wc(24,"Cliente"),l.Rb(),l.Sb(25,"th"),l.wc(26,"Categoria"),l.Rb(),l.Sb(27,"th"),l.wc(28,"Equipo"),l.Rb(),l.Sb(29,"th"),l.wc(30,"Ultimo Horometro"),l.Rb(),l.Sb(31,"th"),l.wc(32,"Fecha Ultimo Horometro"),l.Rb(),l.Rb(),l.Rb(),l.Sb(33,"tbody"),l.uc(34,m,16,7,"tr",31),l.Rb(),l.Rb(),l.Rb(),l.Nb(35,"br"),l.Sb(36,"button",32),l.Zb("click",function(){return l.pc(e),l.cc().reiniciarHorometro()}),l.wc(37,"Reiniciar"),l.Rb(),l.Sb(38,"button",33),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.wc(39,"Cancelar"),l.Rb(),l.Rb()}if(2&e){const e=l.cc();l.Ab(10),l.hc("ngModel",e.horo),l.Ab(4),l.hc("ngModel",e.fecha),l.Ab(20),l.hc("ngForOf",e.records)}}function w(e,o){if(1&e){const e=l.Tb();l.Sb(0,"div",35),l.Sb(1,"h4",20),l.wc(2," !Ha ocurrido un error!"),l.Rb(),l.Sb(3,"button",21),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.Sb(4,"span",22),l.wc(5,"\xd7"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"div",23),l.Sb(7,"h6"),l.wc(8,"El numero de equipo ingresado no pertenece a la compa\xf1ia seleccionada o no existe en la base de datos."),l.Rb(),l.Sb(9,"div",24),l.Nb(10,"br"),l.Sb(11,"button",36),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.wc(12,"Aceptar"),l.Rb(),l.Rb(),l.Rb()}}function g(e,o){if(1&e){const e=l.Tb();l.Sb(0,"div",35),l.Sb(1,"h4",20),l.wc(2," !Ha ocurrido un error!"),l.Rb(),l.Sb(3,"button",21),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.Sb(4,"span",22),l.wc(5,"\xd7"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"div",23),l.Sb(7,"h6"),l.wc(8,"Debe de seleccionar una compa\xf1ia."),l.Rb(),l.Sb(9,"div",24),l.Nb(10,"br"),l.Sb(11,"button",36),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.wc(12,"Aceptar"),l.Rb(),l.Rb(),l.Rb()}}function v(e,o){if(1&e){const e=l.Tb();l.Sb(0,"div",35),l.Sb(1,"h4",20),l.wc(2," !Ha ocurrido un error!"),l.Rb(),l.Sb(3,"button",21),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.Sb(4,"span",22),l.wc(5,"\xd7"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"div",23),l.Sb(7,"h6"),l.wc(8,"ERROR: No se ha podido reiniciar el horometro. Porfavor ingrese todos los datos."),l.Rb(),l.Sb(9,"div",24),l.Nb(10,"br"),l.Sb(11,"button",36),l.Zb("click",function(){return l.pc(e),l.cc().decline()}),l.wc(12,"Aceptar"),l.Rb(),l.Rb(),l.Rb()}}const y=[{path:"",component:(()=>{class e{constructor(e,o){this.api=e,this.modalService=o,this.noResult=!1,this.states=[],this.records=[]}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){this.states=yield this.api.getCompany(),this.records=yield this.api.getAllCompany()})}openModal(e){this.modalRef=this.modalService.show(e,{class:"modal-lg"})}validarDato(){return Object(a.a)(this,void 0,void 0,function*(){if(null!=this.selectedOption){let e=yield this.api.getCompanyAndEquipment({soldToParty:this.selectedOption.soldToParty,equipment:this.numeroEquipo});null!=e?(this.records=e,this.IdSolicitud=e[0].equipment,this.openModal(this.reiniciar)):this.openModal(this.error)}else this.openModal(this.errorCompany)})}decline(){this.modalRef.hide()}onSelect(e){this.selectedOption=e.item}reiniciarHorometro(){return Object(a.a)(this,void 0,void 0,function*(){(yield this.api.createProductHistorial({id:this.IdSolicitud,horo:this.horo,fecha:this.fecha})).success?(this.decline(),window.location.reload()):(this.decline(),this.openModal(this.errorHorometro))})}}return e.\u0275fac=function(o){return new(o||e)(l.Mb(d.a),l.Mb(s.a))},e.\u0275cmp=l.Gb({type:e,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&(l.zc(p,1),l.zc(h,1),l.zc(R,1),l.zc(S,1)),2&e){let e;l.mc(e=l.ac())&&(o.reiniciar=e.first),l.mc(e=l.ac())&&(o.error=e.first),l.mc(e=l.ac())&&(o.errorCompany=e.first),l.mc(e=l.ac())&&(o.errorHorometro=e.first)}},decls:36,vars:3,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group","row"],["for","hf-email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["typeaheadOptionField","cliente",1,"form-control",3,"ngModel","typeahead","ngModelChange","typeaheadOnSelect"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-dot-circle-o"],["reiniciar",""],["error",""],["errorCompany",""],["role","document","style"," border-color:#f86c6b"],["errorHorometro",""],[1,"modal-header",2,"background-color","#ffc107"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group"],["name","horo","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","date",1,"form-control",3,"ngModel","ngModelChange"],[2,"overflow-x","scroll","overflow-y","scroll"],[1,"table","table-striped","table-bordered","table-sm","row-border","hover"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"text-left"],[1,"modal-header",2,"background-color","#f86c6b"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,o){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"div",3),l.Sb(4,"div",4),l.wc(5," Equipos Kaeser "),l.Rb(),l.Sb(6,"div",5),l.Nb(7,"br"),l.Sb(8,"div",2),l.Sb(9,"div",3),l.Sb(10,"div",4),l.Sb(11,"strong"),l.wc(12,"Ingrese los datos del equipo "),l.Rb(),l.Rb(),l.Sb(13,"div",5),l.Sb(14,"div",6),l.Sb(15,"label",7),l.wc(16,"Compa\xf1ia"),l.Rb(),l.Sb(17,"div",8),l.Sb(18,"input",9),l.Zb("ngModelChange",function(e){return o.selectedValue=e})("typeaheadOnSelect",function(e){return o.onSelect(e)}),l.Rb(),l.Rb(),l.Rb(),l.Sb(19,"div",6),l.Sb(20,"label",7),l.wc(21,"Numero de equipo"),l.Rb(),l.Sb(22,"div",8),l.Sb(23,"input",10),l.Zb("ngModelChange",function(e){return o.numeroEquipo=e}),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(24,"div",11),l.Sb(25,"button",12),l.Zb("click",function(){return o.validarDato()}),l.Nb(26,"i",13),l.wc(27," Reiniciar Horometro"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.uc(28,f,40,3,"ng-template",null,14,l.vc),l.uc(30,w,13,0,"ng-template",null,15,l.vc),l.uc(32,g,13,0,"ng-template",null,16,l.vc),l.uc(34,v,13,0,"ng-template",17,18,l.vc)),2&e&&(l.Ab(18),l.hc("ngModel",o.selectedValue)("typeahead",o.states),l.Ab(5),l.hc("ngModel",o.numeroEquipo))},directives:[c.a,c.e,c.h,u.a,c.j,i.j],encapsulation:2}),e})(),data:{title:"adminUser"}}];let C=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({imports:[[b.g.forChild(y)],b.g]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({imports:[[c.b,i.c,s.b,C,r.c,s.b.forRoot(),u.b.forRoot(),n.a.forRoot()]]}),e})()}}]);