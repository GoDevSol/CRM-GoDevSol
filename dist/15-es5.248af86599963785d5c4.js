!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{D0de:function(n,c,i){"use strict";i.r(c),i.d(c,"AdminEncuestaModule",function(){return J});var r=i("s7LF"),b=i("FE24"),o=i("aHM3"),a=i("SVse"),s=i("LqlI"),u=i("oTcB"),d=i("iInd"),l=i("mrSG"),p=i("yZrb"),g=i("XNiG"),f=i("8Y7J");function h(e,t){1&e&&(f.Sb(0,"button",28),f.wc(1,"INACTIVO"),f.Rb())}function v(e,t){1&e&&(f.Sb(0,"button",29),f.wc(1,"ACTIVO"),f.Rb())}function R(e,t){1&e&&(f.Sb(0,"p",30),f.wc(1,"TRABAJADORES"),f.Rb())}function S(e,t){1&e&&(f.Sb(0,"p",30),f.wc(1,"CLIENTE"),f.Rb())}function w(e,t){if(1&e){var n=f.Tb();f.Sb(0,"div",31),f.Sb(1,"a",32),f.Zb("click",function(){f.pc(n);var e=f.cc().$implicit,t=f.cc(),c=f.nc(42);return t.openModal(c,e)}),f.wc(2,"Administrar Preguntas"),f.Rb(),f.Sb(3,"a",32),f.Zb("click",function(){f.pc(n);var e=f.cc().$implicit,t=f.cc(),c=f.nc(40);return t.openModal(c,e)}),f.wc(4,"Ver Resultados"),f.Rb(),f.Sb(5,"a",32),f.Zb("click",function(){f.pc(n);var e=f.cc().$implicit,t=f.cc(),c=f.nc(40);return t.openModal(c,e)}),f.wc(6,"Inactivar"),f.Rb(),f.Rb()}}function m(e,t){if(1&e&&(f.Sb(0,"tr"),f.Sb(1,"td",14),f.wc(2),f.Rb(),f.Sb(3,"td"),f.Sb(4,"div"),f.wc(5),f.Rb(),f.Rb(),f.Sb(6,"td"),f.uc(7,h,2,0,"button",20),f.uc(8,v,2,0,"button",21),f.Rb(),f.Sb(9,"td",22),f.wc(10),f.Rb(),f.Sb(11,"td",14),f.uc(12,R,2,0,"p",23),f.uc(13,S,2,0,"p",23),f.Rb(),f.Sb(14,"td",14),f.Sb(15,"div",24),f.Sb(16,"button",25),f.Nb(17,"i",26),f.Rb(),f.uc(18,w,7,0,"div",27),f.Rb(),f.Rb(),f.Rb()),2&e){var n=t.$implicit,c=t.index;f.Ab(2),f.yc(" ",c+1," "),f.Ab(3),f.xc(n.nombre.toUpperCase()),f.Ab(2),f.hc("ngIf",0==n.estado),f.Ab(1),f.hc("ngIf",1==n.estado),f.Ab(2),f.yc(" ",n.creadorUsuario.toUpperCase()," "),f.Ab(2),f.hc("ngIf",1==n.objetivo),f.Ab(1),f.hc("ngIf",2==n.objetivo)}}function k(e,t){if(1&e){var n=f.Tb();f.Sb(0,"div",33),f.Sb(1,"h5",34),f.wc(2," Crear encuesta"),f.Rb(),f.Sb(3,"button",35),f.Zb("click",function(){return f.pc(n),f.cc().decline()}),f.Sb(4,"span",36),f.wc(5,"\xd7"),f.Rb(),f.Rb(),f.Rb(),f.Sb(6,"div",37),f.Sb(7,"h6"),f.wc(8,"Ingrese los datos de la encuesta."),f.Rb(),f.Sb(9,"div",38),f.Sb(10,"label",39),f.wc(11,"Nombre de la encuesta"),f.Rb(),f.Sb(12,"input",40),f.Zb("ngModelChange",function(e){return f.pc(n),f.cc().nombre=e}),f.Rb(),f.Rb(),f.Sb(13,"div",38),f.Sb(14,"label",39),f.wc(15,"Target market de la encuesta"),f.Rb(),f.Sb(16,"select",41),f.Zb("ngModelChange",function(e){return f.pc(n),f.cc().tipo=e}),f.Sb(17,"option",42),f.wc(18,"TRABAJADORES"),f.Rb(),f.Sb(19,"option",43),f.wc(20,"CLIENTES"),f.Rb(),f.Rb(),f.Rb(),f.Sb(21,"div",44),f.Nb(22,"br"),f.Sb(23,"button",10),f.Zb("click",function(){return f.pc(n),f.cc().createUser()}),f.wc(24,"Crear"),f.Rb(),f.Sb(25,"button",45),f.Zb("click",function(){return f.pc(n),f.cc().decline()}),f.wc(26,"Cancelar"),f.Rb(),f.Rb(),f.Rb()}if(2&e){var c=f.cc();f.Ab(12),f.hc("ngModel",c.nombre),f.Ab(4),f.hc("ngModel",c.tipo)}}function A(e,t){if(1&e){var n=f.Tb();f.Sb(0,"div",37),f.Sb(1,"p"),f.wc(2,"\xbfEstas seguro querer eliminar el usuario?"),f.Rb(),f.Sb(3,"button",45),f.Zb("click",function(){return f.pc(n),f.cc().rechazarUser()}),f.wc(4,"Si"),f.Rb(),f.Sb(5,"button",46),f.Zb("click",function(){return f.pc(n),f.cc().decline()}),f.wc(6,"Cancelar"),f.Rb(),f.Rb()}}function y(e,t){if(1&e){var n=f.Tb();f.Sb(0,"option",54),f.Zb("click",function(){f.pc(n);var e=t.index;return f.cc(2).eventGetChangeQ(e)}),f.wc(1),f.Rb()}if(2&e){var c=t.index;f.hc("ngValue",t.$implicit),f.Ab(1),f.yc(" ","Preguntas #"+(c+1)," ")}}function x(e,t){if(1&e){var n=f.Tb();f.Sb(0,"option",54),f.Zb("click",function(){f.pc(n);var e=t.index;return f.cc(4).eventGetChange(e)}),f.wc(1),f.Rb()}if(2&e){var c=t.$implicit,i=f.cc(4);f.hc("ngValue",i.encuesta),f.Ab(1),f.yc(" ",c.valor," ")}}function C(e,t){if(1&e){var n=f.Tb();f.Sb(0,"div",1),f.Sb(1,"div",58),f.Sb(2,"select",63),f.uc(3,x,2,2,"option",50),f.Rb(),f.Rb(),f.Sb(4,"div",58),f.Sb(5,"label",39),f.wc(6,"Respuesta"),f.Rb(),f.Sb(7,"input",64),f.Zb("ngModelChange",function(e){return f.pc(n),f.cc(3).answer=e}),f.Rb(),f.Nb(8,"br"),f.Sb(9,"button",10),f.Zb("click",function(){return f.pc(n),f.cc(3).addAnswer()}),f.wc(10,"Agregar"),f.Rb(),f.Sb(11,"button",46),f.Zb("click",function(){return f.pc(n),f.cc(3).deleteAnswer()}),f.wc(12,"Eliminar"),f.Rb(),f.Rb(),f.Rb()}if(2&e){var c=f.cc(3);f.Ab(3),f.hc("ngForOf",c.respuesta.respuestas),f.Ab(4),f.hc("ngModel",c.answer)}}function I(e,t){if(1&e){var n=f.Tb();f.Sb(0,"div",55),f.Sb(1,"div",56),f.Sb(2,"div",38),f.Sb(3,"label",39),f.wc(4,"Pregunta"),f.Rb(),f.Sb(5,"input",57),f.Zb("ngModelChange",function(e){return f.pc(n),f.cc(2).respuesta.pregunta=e}),f.Rb(),f.Rb(),f.Rb(),f.Nb(6,"br"),f.Sb(7,"div",58),f.Sb(8,"input",59),f.Zb("ngModelChange",function(e){return f.pc(n),f.cc(2).respuesta.tipo=e}),f.Rb(),f.wc(9," Pregunta Abierta "),f.Rb(),f.Sb(10,"div",58),f.Sb(11,"input",59),f.Zb("ngModelChange",function(e){return f.pc(n),f.cc(2).respuesta.tipo=e}),f.Rb(),f.wc(12," Pregunta Cerrada "),f.Rb(),f.Sb(13,"div",60),f.uc(14,C,13,2,"div",61),f.Rb(),f.Sb(15,"div",60),f.Sb(16,"button",62),f.Zb("click",function(){return f.pc(n),f.cc(2).saveAnswer()}),f.wc(17,"Guardar Cambio"),f.Rb(),f.Rb(),f.Rb()}if(2&e){var c=f.cc(2);f.Ab(5),f.hc("ngModel",c.respuesta.pregunta),f.Ab(3),f.hc("ngModel",c.respuesta.tipo)("value",1),f.Ab(3),f.hc("ngModel",c.respuesta.tipo)("value",2),f.Ab(3),f.hc("ngIf",2==c.respuesta.tipo)}}function M(e,t){if(1&e){var n=f.Tb();f.Sb(0,"div",33),f.Sb(1,"h5",34),f.wc(2," Administrar Preguntas de encuesta"),f.Rb(),f.Sb(3,"button",35),f.Zb("click",function(){return f.pc(n),f.cc().decline()}),f.Sb(4,"span",36),f.wc(5,"\xd7"),f.Rb(),f.Rb(),f.Rb(),f.Sb(6,"div",37),f.Sb(7,"div",38),f.Sb(8,"div",47),f.Sb(9,"div",48),f.Sb(10,"select",49),f.uc(11,y,2,2,"option",50),f.Rb(),f.Rb(),f.Sb(12,"div",51),f.Sb(13,"button",10),f.Zb("click",function(){return f.pc(n),f.cc().addQuestion()}),f.wc(14,"Agregar Pregunta"),f.Rb(),f.Nb(15,"br"),f.Nb(16,"br"),f.Sb(17,"button",46),f.Zb("click",function(){return f.pc(n),f.cc().deleteQuestion()}),f.wc(18,"Eliminar Pregunta"),f.Rb(),f.Rb(),f.Nb(19,"hr"),f.uc(20,I,18,6,"div",52),f.Rb(),f.Nb(21,"hr"),f.Sb(22,"button",53),f.Zb("click",function(){return f.pc(n),f.cc().saveAll()}),f.wc(23,"Guardar Todo"),f.Rb(),f.Rb(),f.Rb()}if(2&e){var c=f.cc();f.Ab(11),f.hc("ngForOf",c.encuestas),f.Ab(9),f.hc("ngIf",c.IndexQuestion>=0)}}var T,O,Z,N=[{path:"",component:(T=function(){function n(t,c){e(this,n),this.api=t,this.modalService=c,this.noResult=!1,this.states=[],this.encuestas=[],this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.idUser="",this.nombre="",this.answer="",this.item={id:"",preguntas:""},this.IndexAnswer=-1,this.IndexQuestion=-1,this.tipo=0,this.dtOptions={},this.dtTrigger=new g.a,this.records=[]}var c,i,r;return c=n,(i=[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.getEncuestaHeader();case 2:this.records=e.sent,this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.dtTrigger.next();case 5:case"end":return e.stop()}},e,this)}))}},{key:"openModal",value:function(e,t){this.modalRef=this.modalService.show(e,{class:"modal-lg"}),this.encuestas=JSON.parse(t.preguntas.replaceAll("&quot;",'"')),this.item=t,this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.IndexAnswer=-1,this.IndexQuestion=-1}},{key:"addQuestion",value:function(){this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.encuestas.push(this.respuesta)}},{key:"deleteQuestion",value:function(){this.encuestas.splice(this.IndexQuestion,1)}},{key:"addAnswer",value:function(){this.respuesta.respuestas.push({valor:this.answer})}},{key:"deleteAnswer",value:function(){this.respuesta.respuestas.splice(this.IndexAnswer,1)}},{key:"saveAnswer",value:function(){this.encuestas[this.IndexQuestion]=JSON.parse(JSON.stringify(this.respuesta)),this.respuesta={pregunta:"",tipo:1,respuestas:[]},this.IndexQuestion=-1}},{key:"saveAll",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.updateEncuesta({id:this.item.id,preguntas:JSON.stringify(this.encuestas)});case 2:this.dismiss();case 3:case"end":return e.stop()}},e,this)}))}},{key:"eventGetChange",value:function(e){this.IndexAnswer=e}},{key:"eventGetChangeQ",value:function(e){this.respuesta=JSON.parse(JSON.stringify(this.encuestas[e])),this.IndexQuestion=e}},{key:"dismiss",value:function(){this.decline(),window.location.reload()}},{key:"decline",value:function(){this.modalRef.hide()}},{key:"createUser",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("JWT"),e.next=3,this.api.createEncuesta({nombre:this.nombre,objetivo:this.tipo,jwt:t});case 3:this.dismiss();case 4:case"end":return e.stop()}},e,this)}))}}])&&t(c.prototype,i),r&&t(c,r),n}(),T.\u0275fac=function(e){return new(e||T)(f.Mb(p.a),f.Mb(s.a))},T.\u0275cmp=f.Gb({type:T,selectors:[["ng-component"]],decls:43,vars:4,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-6","col-lg-4"],[1,"card","text-white","bg-warning"],["dropdown","",1,"btn-group","float-right"],[1,"text-value"],["type","button",1,"btn","btn-success",3,"click"],[2,"overflow-x","scroll","overflow-y","scroll"],["datatable","",1,"table","table-striped","table-bordered","table-sm","row-border","hover",3,"dtTrigger","dtOptions"],[1,"thead-light"],[1,"text-center"],[1,"icon-people"],[4,"ngFor","ngForOf"],["crear",""],["rechazar",""],["preguntas",""],["type","button","class","btn btn-block btn-danger",4,"ngIf"],["type","button","class","btn btn-block btn-success",4,"ngIf"],[1,"text-left"],["class","",4,"ngIf"],["dropdown","",1,"btn-group","float-center"],["type","button","dropdownToggle","",1,"btn","dropdown-toggle","p-0"],[1,"icon-settings"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],["type","button",1,"btn","btn-block","btn-danger"],["type","button",1,"btn","btn-block","btn-success"],[1,""],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"modal-header",2,"background-color","#4dbd74"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group","text-left"],["for",""],["name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["name","tipo",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"form-group"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row",2,"padding","10px"],[1,"col-sm-9"],["multiple","","size","10","name","tipo",1,"form-control"],[3,"ngValue","click",4,"ngFor","ngForOf"],[1,"col-sm-3"],["class","row text-center","style","padding: 20px;text-align-last: center;    width: 100%;",4,"ngIf"],["type","button",1,"btn","btn-block","btn-success",3,"click"],[3,"ngValue","click"],[1,"row","text-center",2,"padding","20px","text-align-last","center","width","100%"],[1,"col-sm-12"],["name","pregunta",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-6"],["type","radio","name","head_radio",3,"ngModel","value","ngModelChange"],[1,"col-sm-12",2,"margin-top","20px"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-block","btn-info",3,"click"],["multiple","","size","4","name","tipo",1,"form-control"],["name","answer",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){var n=f.Tb();f.Sb(0,"div",0),f.Sb(1,"div",1),f.Sb(2,"div",2),f.Sb(3,"div",3),f.Sb(4,"div",4),f.wc(5," Configuracion de Encuesta "),f.Rb(),f.Sb(6,"div",5),f.Sb(7,"div",1),f.Sb(8,"div",6),f.Sb(9,"div",7),f.Sb(10,"div",5),f.Nb(11,"div",8),f.Sb(12,"div",9),f.wc(13),f.Rb(),f.Sb(14,"div"),f.wc(15,"Total de Encuestas"),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Sb(16,"div",4),f.Sb(17,"button",10),f.Zb("click",function(){f.pc(n);var e=f.nc(38);return t.openModal(e,"")}),f.wc(18,"CREAR ENCUESTA"),f.Rb(),f.Rb(),f.Sb(19,"div",11),f.Sb(20,"table",12),f.Sb(21,"thead",13),f.Sb(22,"tr"),f.Sb(23,"th",14),f.Nb(24,"i",15),f.Rb(),f.Sb(25,"th"),f.wc(26,"Nombres"),f.Rb(),f.Sb(27,"th"),f.wc(28,"Estado"),f.Rb(),f.Sb(29,"th"),f.wc(30,"Creador de la Encuesta"),f.Rb(),f.Sb(31,"th",14),f.wc(32,"Target Market"),f.Rb(),f.Sb(33,"th"),f.wc(34,"Accion"),f.Rb(),f.Rb(),f.Rb(),f.Sb(35,"tbody"),f.uc(36,m,19,7,"tr",16),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.uc(37,k,27,2,"ng-template",null,17,f.vc),f.uc(39,A,7,0,"ng-template",null,18,f.vc),f.uc(41,M,24,2,"ng-template",null,19,f.vc)}2&e&&(f.Ab(13),f.xc(t.records.length),f.Ab(7),f.hc("dtTrigger",t.dtTrigger)("dtOptions",t.dtOptions),f.Ab(16),f.hc("ngForOf",t.records))},directives:[b.a,u.a,a.j,a.k,b.d,b.b,r.a,r.e,r.h,r.n,r.i,r.p,r.k],encapsulation:2}),T),data:{title:"adminUser"}}],E=((Z=function t(){e(this,t)}).\u0275fac=function(e){return new(e||Z)},Z.\u0275mod=f.Kb({type:Z}),Z.\u0275inj=f.Jb({imports:[[d.g.forChild(N)],d.g]}),Z),J=((O=function t(){e(this,t)}).\u0275fac=function(e){return new(e||O)},O.\u0275mod=f.Kb({type:O}),O.\u0275inj=f.Jb({imports:[[r.b,u.b,E,b.c,a.c,o.a.forRoot(),s.b.forRoot()]]}),O)}}])}();