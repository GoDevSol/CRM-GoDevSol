(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{QfaS:function(o,t,e){"use strict";e.r(t),e.d(t,"ALoadDataModule",function(){return C});var c=e("s7LF"),b=e("FE24"),r=e("aHM3"),i=e("SVse"),n=e("iInd"),d=e("mrSG"),a=e("yZrb"),l=e("XNiG"),s=e("8Y7J"),p=e("LqlI"),u=e("oTcB");const h=["error"];function R(o,t){if(1&o){const o=s.Tb();s.Sb(0,"div",26),s.Sb(1,"a",27),s.Zb("click",function(){s.pc(o);const t=s.cc().$implicit,e=s.cc(),c=s.nc(47);return e.openModalData(c,t)}),s.wc(2,"Reiniciar Horometro"),s.Rb(),s.Rb()}}function S(o,t){if(1&o&&(s.Sb(0,"tr"),s.Sb(1,"td",14),s.wc(2),s.Rb(),s.Sb(3,"td",14),s.wc(4),s.Rb(),s.Sb(5,"td"),s.Sb(6,"div"),s.wc(7),s.Rb(),s.Rb(),s.Sb(8,"td",21),s.wc(9),s.Rb(),s.Sb(10,"td",21),s.wc(11),s.Rb(),s.Sb(12,"td",14),s.wc(13),s.Rb(),s.Sb(14,"td",14),s.wc(15),s.Rb(),s.Sb(16,"td"),s.wc(17),s.Rb(),s.Sb(18,"td",14),s.wc(19),s.Rb(),s.Sb(20,"td"),s.Sb(21,"div",22),s.Sb(22,"button",23),s.Nb(23,"i",24),s.Rb(),s.uc(24,R,3,0,"div",25),s.Rb(),s.Rb(),s.Rb()),2&o){const o=t.$implicit,e=t.index;s.Ab(2),s.yc(" ",e+1," "),s.Ab(2),s.yc(" ",o.equipment," "),s.Ab(3),s.xc(o.cliente.toUpperCase()),s.Ab(2),s.yc(" ",o.categoria.toUpperCase()," "),s.Ab(2),s.yc(" ",o.equipo.toUpperCase()," "),s.Ab(2),s.yc(" ",o.penultimoHorometro.toUpperCase()," "),s.Ab(2),s.yc(" ",o.fechaPenultimoHorometro.toUpperCase()," "),s.Ab(2),s.yc(" ",o.ultimoHorometro.toUpperCase()," "),s.Ab(2),s.yc(" ",o.fechaUltimoHorometro.toUpperCase()," ")}}function m(o,t){if(1&o&&(s.Sb(0,"tr"),s.Sb(1,"td",14),s.wc(2),s.Rb(),s.Sb(3,"td",14),s.wc(4),s.Rb(),s.Sb(5,"td"),s.Sb(6,"div"),s.wc(7),s.Rb(),s.Rb(),s.Sb(8,"td",21),s.wc(9),s.Rb(),s.Sb(10,"td",21),s.wc(11),s.Rb(),s.Sb(12,"td"),s.wc(13),s.Rb(),s.Sb(14,"td",14),s.wc(15),s.Rb(),s.Rb()),2&o){const o=t.$implicit,e=t.index;s.Ab(2),s.yc(" ",e+1," "),s.Ab(2),s.yc(" ",o.equipment," "),s.Ab(3),s.xc(o.cliente.toUpperCase()),s.Ab(2),s.yc(" ",o.categoria.toUpperCase()," "),s.Ab(2),s.yc(" ",o.equipo.toUpperCase()," "),s.Ab(2),s.yc(" ",o.ultimoHorometro.toUpperCase()," "),s.Ab(2),s.yc(" ",o.fechaUltimoHorometro.toUpperCase()," ")}}function w(o,t){if(1&o){const o=s.Tb();s.Sb(0,"div",28),s.Sb(1,"h4",29),s.wc(2," Reiniciar Horometro."),s.Rb(),s.Sb(3,"button",30),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.Sb(4,"span",31),s.wc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",32),s.Sb(7,"h6"),s.wc(8,"Ingrese el horometro."),s.Rb(),s.Sb(9,"div",33),s.Sb(10,"input",34),s.Zb("ngModelChange",function(t){return s.pc(o),s.cc().horo=t}),s.Rb(),s.Rb(),s.Sb(11,"h6"),s.wc(12,"Ingrese la fecha del servicio."),s.Rb(),s.Sb(13,"div",33),s.Sb(14,"input",35),s.Zb("ngModelChange",function(t){return s.pc(o),s.cc().fecha=t}),s.Rb(),s.Rb(),s.Sb(15,"div",11),s.Sb(16,"table",36),s.Sb(17,"thead",13),s.Sb(18,"tr"),s.Sb(19,"th",14),s.wc(20,"#"),s.Rb(),s.Sb(21,"th"),s.wc(22,"Codigo"),s.Rb(),s.Sb(23,"th"),s.wc(24,"Cliente"),s.Rb(),s.Sb(25,"th"),s.wc(26,"Categoria"),s.Rb(),s.Sb(27,"th"),s.wc(28,"Equipo"),s.Rb(),s.Sb(29,"th"),s.wc(30,"Ultimo Horometro"),s.Rb(),s.Sb(31,"th"),s.wc(32,"Fecha Ultimo Horometro"),s.Rb(),s.Rb(),s.Rb(),s.Sb(33,"tbody"),s.uc(34,m,16,7,"tr",15),s.Rb(),s.Rb(),s.Rb(),s.Nb(35,"br"),s.Sb(36,"button",37),s.Zb("click",function(){return s.pc(o),s.cc().reiniciarHorometro()}),s.wc(37,"Reiniciar"),s.Rb(),s.Sb(38,"button",38),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.wc(39,"Cancelar"),s.Rb(),s.Rb()}if(2&o){const o=s.cc();s.Ab(10),s.hc("ngModel",o.horo),s.Ab(4),s.hc("ngModel",o.fecha),s.Ab(20),s.hc("ngForOf",o.record)}}function f(o,t){if(1&o){const o=s.Tb();s.Sb(0,"div",39),s.Sb(1,"h4",29),s.wc(2," Seleccione un archivo CSV desde su computador."),s.Rb(),s.Sb(3,"button",30),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.Sb(4,"span",31),s.wc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",32),s.Sb(7,"div",33),s.Sb(8,"h5"),s.wc(9,"Requerimientos del archivo."),s.Rb(),s.Sb(10,"div",40),s.Sb(11,"h6"),s.wc(12,"1. Los campos deben de ir separados por punto y coma (;)."),s.Rb(),s.Sb(13,"h6"),s.wc(14,"2. El orden de los campos es el siguiente ."),s.Rb(),s.Sb(15,"h7"),s.wc(16,"(Sold Party/ Nombre Cliente /Codigo Equipo / Categoria / Equipo / penultimo Horometro / fecha Penultimo / ultimo horometro / fecha ultimo horometro ) "),s.Rb(),s.Nb(17,"br"),s.Sb(18,"h6"),s.wc(19,'3.Las fechas pueden ir separadas por "/" o "-" y deben de ser en formato A\xf1o/Mes/Dia o Dia/Mes/A\xf1o'),s.Rb(),s.Nb(20,"br"),s.Sb(21,"h6"),s.wc(22,"Ejemplo."),s.Rb(),s.Sb(23,"h7"),s.wc(24,"10267;Ortitl\xe1n Limitada;2430637;Compresor de Tornillo;ASD 25;35861;2014-11-25;58773;2015/02/02"),s.Rb(),s.Rb(),s.Sb(25,"input",41),s.Zb("change",function(t){return s.pc(o),s.cc().onFileChange(t)}),s.Rb(),s.Nb(26,"br"),s.Sb(27,"button",10),s.Zb("click",function(){return s.pc(o),s.cc().LoadData()}),s.wc(28,"Aceptar"),s.Rb(),s.Sb(29,"button",38),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.wc(30,"Cancelar"),s.Rb(),s.Rb(),s.Rb()}}function g(o,t){if(1&o){const o=s.Tb();s.Sb(0,"div",42),s.Sb(1,"h4",29),s.wc(2," !Ha ocurrido un error!"),s.Rb(),s.Sb(3,"button",30),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.Sb(4,"span",31),s.wc(5,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",32),s.Sb(7,"h6"),s.wc(8,"ERROR: No se ha podido reiniciar el horometro. Porfavor ingrese todos los datos."),s.Rb(),s.Sb(9,"div",33),s.Nb(10,"br"),s.Sb(11,"button",43),s.Zb("click",function(){return s.pc(o),s.cc().decline()}),s.wc(12,"Aceptar"),s.Rb(),s.Rb(),s.Rb()}}const v=[{path:"",component:(()=>{class o{constructor(o,t){this.api=o,this.modalService=t,this.noResult=!1,this.states=[],this.dtOptions={},this.dtTrigger=new l.a,this.records=[],this.record=new Array}ngOnInit(){return Object(d.a)(this,void 0,void 0,function*(){this.records=yield this.api.getAllCompany(),this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.dtTrigger.next()})}openModalData(o,t){this.modalRef=this.modalService.show(o,{class:"modal-lg"}),this.record=[t],this.IdSolicitud=t.equipment}openModal(o,t){this.modalRef=this.modalService.show(o,{class:"modal-lg"}),this.IdSolicitud=t}decline(){this.modalRef.hide()}LoadData(){return Object(d.a)(this,void 0,void 0,function*(){var o=new FormData;o.append("file",this.file),yield this.api.loadFile(o),this.decline(),window.location.reload()})}reiniciarHorometro(){return Object(d.a)(this,void 0,void 0,function*(){(yield this.api.createProductHistorial({id:this.IdSolicitud,horo:this.horo,fecha:this.fecha})).success?(this.decline(),window.location.reload()):(this.decline(),this.openModal(this.error,""))})}onFileChange(o){this.file=o.target.files[0]}}return o.\u0275fac=function(t){return new(t||o)(s.Mb(a.a),s.Mb(p.a))},o.\u0275cmp=s.Gb({type:o,selectors:[["ng-component"]],viewQuery:function(o,t){if(1&o&&s.zc(h,1),2&o){let o;s.mc(o=s.ac())&&(t.error=o.first)}},decls:52,vars:4,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-6","col-lg-4"],[1,"card","text-white","bg-warning"],["dropdown","",1,"btn-group","float-right"],[1,"text-value"],["type","button",1,"btn","btn-success",3,"click"],[2,"overflow-x","scroll","overflow-y","scroll"],["datatable","",1,"table","table-striped","table-bordered","table-sm","row-border","hover",3,"dtTrigger","dtOptions"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],["reiniciar",""],["class","modal-dialog modal-success","role","document","style"," border-color:#4dbd74"],["aceptar",""],["role","document","style"," border-color:#f86c6b"],["error",""],[1,"text-left"],["dropdown","",1,"btn-group","float-center"],["type","button","dropdownToggle","",1,"btn","dropdown-toggle","p-0"],[1,"icon-settings"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"modal-header",2,"background-color","#ffc107"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group"],["name","horo","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-striped","table-bordered","table-sm","row-border","hover"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"modal-header",2,"background-color","#4dbd74"],[1,"text-left",2,"margin-top","20px","margin-bottom","20px"],["id","file","type","file","accept",".csv",1,"form-control",3,"change"],[1,"modal-header",2,"background-color","#f86c6b"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(o,t){if(1&o){const o=s.Tb();s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"div",4),s.wc(5," Equipos Kaeser "),s.Rb(),s.Sb(6,"div",5),s.Sb(7,"div",1),s.Sb(8,"div",6),s.Sb(9,"div",7),s.Sb(10,"div",5),s.Nb(11,"div",8),s.Sb(12,"div",9),s.wc(13),s.Rb(),s.Sb(14,"div"),s.wc(15,"Equipos Registrados"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Nb(16,"br"),s.Sb(17,"div",4),s.Sb(18,"button",10),s.Zb("click",function(){s.pc(o);const e=s.nc(49);return t.openModal(e,0)}),s.wc(19,"CARGAR ARCHIVO CSV"),s.Rb(),s.Rb(),s.Sb(20,"div",11),s.Sb(21,"table",12),s.Sb(22,"thead",13),s.Sb(23,"tr"),s.Sb(24,"th",14),s.wc(25,"#"),s.Rb(),s.Sb(26,"th"),s.wc(27,"Codigo"),s.Rb(),s.Sb(28,"th"),s.wc(29,"Cliente"),s.Rb(),s.Sb(30,"th"),s.wc(31,"Categoria"),s.Rb(),s.Sb(32,"th"),s.wc(33,"Equipo"),s.Rb(),s.Sb(34,"th"),s.wc(35,"Penultimo Horometro"),s.Rb(),s.Sb(36,"th"),s.wc(37,"Fecha Penultimo Horometro"),s.Rb(),s.Sb(38,"th"),s.wc(39,"Ultimo Horometro"),s.Rb(),s.Sb(40,"th"),s.wc(41,"Fecha Ultimo Horometro"),s.Rb(),s.Sb(42,"th"),s.wc(43,"Accion"),s.Rb(),s.Rb(),s.Rb(),s.Sb(44,"tbody"),s.uc(45,S,25,9,"tr",15),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.uc(46,w,40,3,"ng-template",null,16,s.vc),s.uc(48,f,31,0,"ng-template",17,18,s.vc),s.uc(50,g,13,0,"ng-template",19,20,s.vc)}2&o&&(s.Ab(13),s.xc(t.records.length),s.Ab(8),s.hc("dtTrigger",t.dtTrigger)("dtOptions",t.dtOptions),s.Ab(24),s.hc("ngForOf",t.records))},directives:[b.a,u.a,i.j,b.d,b.b,c.j,c.a,c.e,c.h],styles:[""]}),o})(),data:{title:"adminUser"}}];let y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.Kb({type:o}),o.\u0275inj=s.Jb({imports:[[n.g.forChild(v)],n.g]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.Kb({type:o}),o.\u0275inj=s.Jb({imports:[[c.b,i.c,p.b,u.b,y,b.c,p.b.forRoot(),r.a.forRoot()]]}),o})()}}]);