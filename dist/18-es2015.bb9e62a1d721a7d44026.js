(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{qnqs:function(o,e,t){"use strict";t.r(e),t.d(e,"TecnicoQRModule",function(){return v});var r=t("s7LF"),i=t("FE24"),b=t("aHM3"),c=t("SVse"),n=t("iInd"),a=t("mrSG"),d=t("yZrb"),l=t("8Y7J"),s=t("LqlI");const h=["reiniciar"],u=["error"];function R(o,e){if(1&o&&(l.Sb(0,"tr"),l.Sb(1,"td",13),l.wc(2),l.Rb(),l.Sb(3,"td",13),l.wc(4),l.Rb(),l.Sb(5,"td"),l.Sb(6,"div"),l.wc(7),l.Rb(),l.Rb(),l.Sb(8,"td",24),l.wc(9),l.Rb(),l.Sb(10,"td",24),l.wc(11),l.Rb(),l.Sb(12,"td"),l.wc(13),l.Rb(),l.Sb(14,"td",13),l.wc(15),l.Rb(),l.Rb()),2&o){const o=e.$implicit,t=e.index;l.Ab(2),l.yc(" ",t+1," "),l.Ab(2),l.yc(" ",o.equipment," "),l.Ab(3),l.xc(o.cliente.toUpperCase()),l.Ab(2),l.yc(" ",o.categoria.toUpperCase()," "),l.Ab(2),l.yc(" ",o.equipo.toUpperCase()," "),l.Ab(2),l.yc(" ",o.ultimoHorometro.toUpperCase()," "),l.Ab(2),l.yc(" ",o.fechaUltimoHorometro.toUpperCase()," ")}}function S(o,e){if(1&o){const o=l.Tb();l.Sb(0,"div",25),l.Sb(1,"h4",26),l.wc(2," No se ah podido reiniciar el Horometro."),l.Rb(),l.Sb(3,"button",27),l.Zb("click",function(){return l.pc(o),l.cc().decline()}),l.Sb(4,"span",28),l.wc(5,"\xd7"),l.Rb(),l.Rb(),l.Rb(),l.Sb(6,"div",29),l.Sb(7,"h6"),l.wc(8,"Ingrese todos los datos para poder reiniciar el horometro."),l.Rb(),l.Sb(9,"div",30),l.Nb(10,"br"),l.Sb(11,"button",31),l.Zb("click",function(){return l.pc(o),l.cc().decline()}),l.wc(12,"Aceptar"),l.Rb(),l.Rb(),l.Rb()}}const p=[{path:"",component:(()=>{class o{constructor(o,e,t,r){this.api=o,this.modalService=e,this.router=t,this.rutaActiva=r,this.horo=0,this.records=[]}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){if(yield localStorage.getItem("JWT")){this.url=this.rutaActiva.snapshot.params.qrCode;let o=yield this.api.validateQRCode({QRcode:this.url});o?(this.records=o,this.IdSolicitud=o[0].equipment):this.router.navigateByUrl("/*")}})}openModal(o){this.modalRef=this.modalService.show(o,{class:"modal-lg"})}decline(){this.modalRef.hide()}validarDato(){return Object(a.a)(this,void 0,void 0,function*(){this.horo>0&&null!=this.fecha?this.reiniciarHorometro():this.openModal(this.error)})}reiniciarHorometro(){return Object(a.a)(this,void 0,void 0,function*(){(yield this.api.createProductHistorial({id:this.IdSolicitud,horo:this.horo,fecha:this.fecha})).success?(this.decline(),window.location.reload()):(this.decline(),this.openModal(this.error))})}}return o.\u0275fac=function(e){return new(e||o)(l.Mb(d.a),l.Mb(s.a),l.Mb(n.c),l.Mb(n.a))},o.\u0275cmp=l.Gb({type:o,selectors:[["ng-component"]],viewQuery:function(o,e){if(1&o&&(l.zc(h,1),l.zc(u,1)),2&o){let o;l.mc(o=l.ac())&&(e.reiniciar=o.first),l.mc(o=l.ac())&&(e.error=o.first)}},decls:61,vars:4,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-sm-6","col-lg-4"],[1,"card","text-white","bg-warning"],["dropdown","",1,"btn-group","float-right"],[1,"text-value"],[2,"overflow-x","scroll","overflow-y","scroll"],[1,"table","table-striped","table-bordered","table-sm","row-border","hover"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"form-group","row"],["for","hf-email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","horo","type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-dot-circle-o"],["error",""],[1,"text-left"],[1,"modal-header",2,"background-color","#ffc107"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"form-group"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(o,e){1&o&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"div",3),l.Sb(4,"div",4),l.wc(5," Equipos Kaeser "),l.Rb(),l.Sb(6,"div",5),l.Sb(7,"div",1),l.Sb(8,"div",6),l.Sb(9,"div",7),l.Sb(10,"div",5),l.Nb(11,"div",8),l.Sb(12,"div",9),l.wc(13),l.Rb(),l.Sb(14,"div"),l.wc(15,"Equipos Registrados"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Nb(16,"br"),l.Sb(17,"div",10),l.Sb(18,"table",11),l.Sb(19,"thead",12),l.Sb(20,"tr"),l.Sb(21,"th",13),l.wc(22,"#"),l.Rb(),l.Sb(23,"th"),l.wc(24,"Codigo"),l.Rb(),l.Sb(25,"th"),l.wc(26,"Cliente"),l.Rb(),l.Sb(27,"th"),l.wc(28,"Categoria"),l.Rb(),l.Sb(29,"th"),l.wc(30,"Equipo"),l.Rb(),l.Sb(31,"th"),l.wc(32,"Ultimo Horometro"),l.Rb(),l.Sb(33,"th"),l.wc(34,"Fecha Ultimo Horometro"),l.Rb(),l.Rb(),l.Rb(),l.Sb(35,"tbody"),l.uc(36,R,16,7,"tr",14),l.Rb(),l.Rb(),l.Rb(),l.Nb(37,"br"),l.Nb(38,"br"),l.Sb(39,"div",2),l.Sb(40,"div",3),l.Sb(41,"div",4),l.Sb(42,"strong"),l.wc(43,"Reiniciar Equipo "),l.Rb(),l.Rb(),l.Sb(44,"div",5),l.Sb(45,"div",15),l.Sb(46,"label",16),l.wc(47,"Ingrese el horometro."),l.Rb(),l.Sb(48,"div",17),l.Sb(49,"input",18),l.Zb("ngModelChange",function(o){return e.horo=o}),l.Rb(),l.Rb(),l.Rb(),l.Sb(50,"div",15),l.Sb(51,"label",16),l.wc(52,"Ingrese la fecha del servicio"),l.Rb(),l.Sb(53,"div",17),l.Sb(54,"input",19),l.Zb("ngModelChange",function(o){return e.fecha=o}),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(55,"div",20),l.Sb(56,"button",21),l.Zb("click",function(){return e.validarDato()}),l.Nb(57,"i",22),l.wc(58," Reiniciar Horometro"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.uc(59,S,13,0,"ng-template",null,23,l.vc)),2&o&&(l.Ab(13),l.xc(e.records.length),l.Ab(23),l.hc("ngForOf",e.records),l.Ab(13),l.hc("ngModel",e.horo),l.Ab(5),l.hc("ngModel",e.fecha))},directives:[i.a,c.j,r.j,r.a,r.e,r.h],encapsulation:2}),o})(),data:{title:"adminUser"}}];let f=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.Kb({type:o}),o.\u0275inj=l.Jb({imports:[[n.g.forChild(p)],n.g]}),o})();var m=t("ZMeN");let v=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.Kb({type:o}),o.\u0275inj=l.Jb({imports:[[r.b,c.c,s.b,f,i.c,s.b.forRoot(),m.b.forRoot(),b.a.forRoot()]]}),o})()}}]);